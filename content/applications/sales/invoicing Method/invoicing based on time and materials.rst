:nosearch:
:show-content:
:hide-page-toc:
:show-toc:

==================================
صورتحساب بر اساس زمان و اقلام
==================================

صورت‌حساب بر اساس زمان و/یا اقلام معمولاً زمانی استفاده می‌شود که برآورد دقیق اندازه یک پروژه امکان‌پذیر نباشد، یا زمانی که الزامات یک پروژه ممکن است تغییر کند.
این با یک قرارداد با قیمت ثابت متفاوت است، زمانی که یک مشتری موافقت می کند که مبلغ مشخصی را برای اجرای قرارداد بپردازد - بدون توجه به آنچه باید به کارکنان، پیمانکاران فرعی، فروشندگان، تامین کنندگان و غیره پرداخت شود.
برنامه فروش Odoo می‌تواند زمان و هزینه‌های مختلف دیگر (مانند حمل‌ونقل، اقامت) و همچنین خریدهای مورد نیاز برای انجام یک سفارش را فاکتور کند.


پیکربندی برنامه و تنظیمات
-----------------------------------------------------
ابتدا، برای پیگیری دقیق پیشرفت یک پروژه، برنامه Odoo Project و حسابداری باید نصب شوند.
برای نصب برنامه پروژه، به داشبورد اصلی **Odoo ‣ Apps** بروید. سپس در صفحه برنامه ها، بلوک برنامه پروژه را پیدا کرده و روی فعال کلیک کنید. صفحه به طور خودکار بازخوانی می شود و به داشبورد اصلی Odoo باز می گردد، جایی که برنامه پروزه اکنون برای دسترسی در دسترس است.
همین روند را برای نصب اپلیکیشن **حسابداری** تکرار کنید.

پس از نصب، روی نماد برنامه حسابداری از داشبورد اصلی Odoo کلیک کنید و به تنظیمات ‣ تنظیمات بروید. در صفحه تنظیمات، به بخش Analytics بروید و مطمئن شوید که کادر کنار حسابداری تحلیلی علامت زده شده است.

.. image:: ./img/invoicing /e67.jpg
    :align: center
    :alt: فروش


سپس روی **ذخیره** کلیک کنید تا همه تغییرات ذخیره شوند


سپس، به داشبورد اصلی Odoo ‣ برنامه **پروژه ‣ پیکربندی ‣ تنظیمات** بروید. در صفحه تنظیمات، در بخش مدیریت زمان، مطمئن شوید که کادر کنار ویژگی لاگ های وظیفه علامت زده شده است.
سپس روی  **لاگ های وظیفه** ذخیره کلیک کنید تا همه تغییرات ذخیره شوند.

.. image:: ./img/invoicing /e68.jpg
    :align: center
    :alt: فروش


پیکربندی محصول خدماتی
---------------------------------------------------
با فعال شدن ویژگی **لاگ های وظیفه** در برنامه Project، اکنون امکان فاکتور برای زمان صرف شده برای یک پروژه وجود دارد، اما تنها زمانی که تنظیمات محصول زیر انجام شده باشد.


.. important::
    صورت‌حساب برای زمان صرف شده برای یک پروژه فقط با محصولاتی امکان‌پذیر است که سرویس را به عنوان نوع محصول در فرم محصول خود تنظیم کرده باشند.

برای پیکربندی یک محصول خدماتی، ابتدا به برنامه **فروش ‣ محصولات ‣ محصولات** بروید. در صفحه محصولات، محصول خدمات مورد نظر را برای پیکربندی انتخاب کنید یا برای ایجاد یک محصول جدید روی جدید کلیک کنید.
از فرم محصول، در تب اطلاعات عمومی، نوع محصول را روی سرویس قرار دهید. سپس، منوی کشویی را در قسمت سیاست صورتحساب باز کنید و بر اساس جدول زمانی را انتخاب کنید.


سپس از منوی کشویی **Create on Order، Project & Task** را انتخاب کنید. این تنظیم نشان می‌دهد که وقتی یک سفارش فروش با این محصول خدماتی خاص ایجاد می‌شود، یک پروژه و کار جدید در برنامه Project ایجاد می‌شود.

.. image:: ./img/invoicing /e69.jpg
    :align: center
    :alt: فروش


.. note::
    گزینه Task را می توان به جای آن از منوی کشویی Create on Order انتخاب کرد. اگر Task انتخاب شده است، یک پروژه موجود را انتخاب کنید که وظیفه در قسمت Project در آن ظاهر شود، که فقط در صورتی ظاهر می شود که Task در قسمت Create on Order انتخاب شده باشد.


زمان صرف شده را به سفارش فروش اضافه کنید
---------------------------------------------------------------

پس از پیکربندی صحیح یک محصول خدماتی با خط مشی صورتحساب صحیح و گزینه های **Create on Order**، می توان زمان صرف شده را به سفارش فروش اضافه کرد.
برای مشاهده آن در عمل، به برنامه فروش ‣ جدید برای باز کردن یک فرم پیش فاکتور خالی بروید. سپس، به افزودن یک مشتری ادامه دهید و در تب خطوط سفارش، روی **افزودن محصول** کلیک کنید و محصول خدماتی که به درستی پیکربندی شده است را از منوی کشویی انتخاب کنید.
در مرحله بعد روی **تایید** کلیک کنید تا سفارش را تایید کنید.
پس از تایید سفارش فروش، دو دکمه هوشمند در بالای فرم سفارش ظاهر می شود: پروژه ها و وظایف.

.. image:: ./img/invoicing /e70.jpg
    :align: center
    :alt: فروش

اگر دکمه هوشمند Projects کلیک شود، پروژه خاص مربوط به این سفارش فروش را نشان می دهد. اگر دکمه هوشمند Tasks کلیک شود، وظیفه پروژه خاص مربوط به این سفارش فروش را نشان می دهد. هر دو در برنامه Project نیز قابل دسترسی هستند.


به منظور اضافه کردن زمان صرف شده برای سفارش فروش، روی دکمه هوشمند Tasks کلیک کنید.
در فرم وظیفه، برگه Timesheets را انتخاب کنید. از برگه Timesheets، کارمندان را می توان برای کار بر روی پروژه تعیین کرد و زمانی را که صرف کار روی کار می کنند می تواند توسط کارمندان یا شخصی که سفارش فروش را ایجاد کرده است، اضافه کند.
برای افزودن یک کارمند و زمان صرف شده برای کار، روی افزودن یک خط در برگه Timesheets کلیک کنید. سپس، تاریخ و کارمند مناسب را انتخاب کنید. همچنین گزینه ای برای اضافه کردن شرح مختصری از کارهای انجام شده در این مدت در ستون توضیحات وجود دارد، اما لازم نیست.
در نهایت، مقدار زمانی که روی کار انجام شده را در ستون Hours Spent وارد کنید، و برای تکمیل آن خط در برگه Timesheets، روی دور کلیک کنید.


.. tip::
    زمان وارد شده در ستون ساعت صرف شده بلافاصله در قسمت زمان اختصاص داده شده (که در نزدیکی بالای فرم کار قرار دارد) به عنوان درصد منعکس می شود که نشان می دهد چه مقدار از کل ساعات کاری اختصاص داده شده تاکنون انجام شده است.
    همین اطلاعات به صورت ساعت‌های عددی در قسمت‌های ساعت صرف شده و ساعت باقیمانده، واقع در پایین برگه ساعت کارکرد، یافت می‌شود.

    .. image:: ./img/invoicing /e71.jpg
        :align: center
        :alt: فروش


این روند را برای هر تعداد کارمند و ساعت هایی که روی پروژه کار کرده اند تکرار کنید.


زمان صرف شده فاکتور
------------------------------------------------
هنگامی که تمام کارکنان لازم و زمان صرف شده به کار پروژه اضافه شد، به سفارش فروش برگردید تا مشتری را برای آن ساعات فاکتور دریافت کنید. برای انجام این کار، روی دکمه هوشمند سفارش فروش در بالای فرم کار کلیک کنید،و به سفارش فروش بازگردید.

در فرم سفارش فروش، زمانی که به کار اضافه شده است در تب خطوط سفارش (در ستون تحویل) و در دکمه هوشمند ساعت‌های ثبت شده جدید در بالای سفارش فروش منعکس می‌شود.

برای فاکتور دادن به مشتری برای زمان صرف شده در پروژه، روی ایجاد فاکتور کلیک کنید و از پنجره پاپ آپ Create invoices، Regular invoice را انتخاب کنید. سپس روی ایجاد پیش نویس فاکتورکلیک کنید.

با انجام این کار، یک پیش نویس فاکتور مشتری نشان داده می شود، که به وضوح تمام کارهای انجام شده در برگه خطوط فاکتور را نشان می دهد.


.. tip::
    به ستون توزیع تحلیلی در فاکتور مشتری توجه کنید، زیرا این اطلاعات برای اطمینان از انجام صحیح و دقیق سایر کارهای صورت‌حساب زمانی/مادی ضروری است

    .. image:: ./img/invoicing /e72.jpg
        :align: center
        :alt: فروش

برای تایید فاکتور بر روی تایید کلیک کنید و روند فاکتور را ادامه دهید.


پیکربندی هزینه ها
-------------------------------------------
برای پیگیری و فاکتور هزینه های مربوط به یک سفارش فروش، برنامه هزینه های اودووباید نصب شود.
برای نصب برنامه هزینه ها ، به داشبورد اصلی **Odoo ‣ Apps** بروید. سپس در صفحه برنامه ها، بلوک برنامه **هزینه ها** را پیدا کرده و روی فعال کردن  کلیک کنید.
صفحه به طور خودکار بازخوانی می شود و به داشبورد اصلی Odoo باز می گردد، جایی که برنامه هزینه ها اکنون برای دسترسی در دسترس است.


هزینه ها را به سفارش فروش اضافه کنید
------------------------------------------------------
برای افزودن هزینه به سفارش فروش، ابتدا به برنامه هزینه ها بروید. سپس، از داشبورد اصلی  هزینه ها، روی جدید کلیک کنید، که یک فرم هزینه خالی را نشان می دهد.


در فرم هزینه، شرح هزینه را اضافه کنید (به عنوان مثال اقامت در هتل، بلیط هواپیما). بعد، در قسمت دسته بندی هزینه ها، گزینه مناسب را از منوی کشویی انتخاب کنید (به عنوان مثال غذا، مایل، سفر و اقامت).


.. tip::
    با رفتن به برنامه  :menuselection:`هزینه ها --> پیکربندی --> دسته بندی هزینه ها` می توان دسته های هزینه را اضافه و تغییر داد.


سپس، مبلغ کل هزینه را در فیلد مجموع و همچنین هر گونه مالیات مشمولی که ممکن است اعمال شود، وارد کنید. در مرحله بعد، مطمئن شوید که کارمند صحیح انتخاب شده است، و مشخص کنید که چه کسی هزینه را در قسمت پرداخت شده توسط  پرداخت کرده است: کارمند (برای بازپرداخت) یا شرکت.
سپس در قسمت Customer to Reinvoice، سفارش فروش مناسب را از منوی کشویی انتخاب کنید. سپس، همان اطلاعات سفارش فروش را از قسمت توزیع تحلیلی نیز انتخاب کنید.


.. tip::
    فیلد **توزیع تحلیلی** تنها در صورتی سفارش فروش مربوطه را به عنوان گزینه خواهد داشت که سفارش فروش حاوی یک محصول خدماتی باشد که بر اساس جدول زمانی، نقاط عطف یا مقادیر تحویل شده صورت‌حساب می‌شود.

    .. image:: ./img/invoicing /e73.jpg
        :align: center
        :alt: فروش


در صورت وجود رسیدی که باید آپلود و به هزینه پیوست شود، روی دکمه پیوست رسید کلیک کنید و مدارک لازم را در هزینه بارگذاری کنید. این مورد نیاز نیست، اما ممکن است بر تایید یا عدم تایید هزینه تاثیر بگذارد.

هنگامی که تمام اطلاعات وارد شد، روی ایجاد گزارش کلیک کنید تا یک **گزارش هزینه** ایجاد کنید که تمام اطلاعات هزینه ای که به تازگی وارد شده است را با جزئیات نشان دهید.

سپس، گزینه ای برای ارسال به مدیر برای تأیید وجود دارد. پس از **تأیید**، گزارش در مشاهده گزارش ظاهر می شود.


برای نمایش یک جریان کامل در این مثال، ارسال به مدیر را انتخاب کنید. سپس، مدیر برای تأیید این هزینه روی تأیید کلیک می‌کند و برای ارسال این هزینه به مجله حسابداری، روی ارسال ورودی‌های آیتم های روزنامه کلیک می‌کند.

.. image:: ./img/invoicing /e74.jpg
    :align: center
    :alt: فروش


هزینه های فاکتور
----------------------------------------------
برای صدور صورت‌حساب از مشتری برای هزینه سفارش فروش، از برنامه فروش یا از گزارش هزینه در برنامه **هزینه‌ها**، به سفارش فروش مربوطه بروید. از گزارش هزینه، روی دکمه هوشمند **سفارشات فروش** در بالای صفحه کلیک کنید.

اگر گزارش هزینه به سفارش فروش مرتبط بود، هزینه جدید پیکربندی شده اکنون خط مخصوص به خود را در برگه خطوط سفارش دارد و می تواند برای مشتری صورتحساب شود.

برای فاکتور کردن مشتری برای هزینه سفارش فروش، روی ایجاد فاکتور کلیک کنید، از پنجره پاپ آپ **ایجاد فاکتور** گزینه فاکتورعادی را انتخاب کنید، سپس روی **Create Draft Invoice** کلیک کنید.

.. image:: ./img/invoicing /e75.jpg
    :align: center
    :alt: فروش

انجام این کار یک پیش نویس فاکتور مشتری برای هزینه نشان می دهد. سپس فرآیند صورتحساب می تواند طبق معمول تکمیل شود.

خرید را به سفارش فروش اضافه کنید
------------------------------------------------
برای افزودن خرید به سفارش فروش، ابتدا باید سفارش خرید ایجاد شود. برای ایجاد یک **سفارش خرید**، به برنامه **خرید ‣ جدید** بروید تا فرم سفارش خرید خالی نمایش داده شود.


ابتدا یک فروشنده به سفارش خرید اضافه کنید. سپس، در زیر برگه محصولات، روی منوی کشویی گزینه های ستون اضافی کلیک کنید، که با دو خط افقی با نقطه روی آنها، در سمت راست سمت راست سرصفحه ستون ها نشان داده شده است. از آن منوی کشویی، **توزیع تحلیلی** را انتخاب کنید.


.. image:: ./img/invoicing /e76.jpg
    :align: center
    :alt: فروش


پس از افزودن ستون **توزیع تحلیلی** به سربرگ های برگه محصولات فرم سفارش خرید، اقدام به افزودن محصول(ها) به سفارش خرید کنید. برای انجام این کار، روی **افزودن یک محصول** کلیک کنید و محصول مورد نظر را از منوی کشویی انتخاب کنید. این کار را برای همه محصولاتی که باید اضافه کنید تکرار کنید.

.. important::
    برای اینکه یک خرید به درستی در یک سفارش فروش صورت‌حساب شود، محصول در سفارش خرید باید به‌عنوان «می‌تواند خرج شود» علامت‌گذاری شود، یک خط‌ مشی صورتحساب روی مقادیر تحویل شده تنظیم شده باشد، و گزینه «هزینه» در هزینه‌های فاکتور مجدد انتخاب شده باشد.


.. image:: ./img/invoicing /e77.jpg
    :align: center
    :alt: فروش

سپس، توزیع تحلیلی مناسب مرتبط با سفارش فروش که این سفارش خرید به آن مربوط است را انتخاب کنید. برای انجام این کار، روی فیلد خالی **توزیع تحلیلی** کلیک کنید تا یک پنجره پاپ آپ تحلیلی ظاهر شود.
سپس از منوی کشویی بخش ها، توزیع تحلیلی مرتبط با سفارش فروش مورد نظر را انتخاب کنید تا برای خرید فاکتور شود.
پس از وارد شدن تمام اطلاعات در برگه محصولات سفارش خرید، با کلیک روی **تایید سفارش**، سفارش را تایید کنید. سپس، پس از دریافت محصولات، روی **دریافت محصولات** کلیک کنید. این یک فرم رسید ایجاد می کند.


.. note::
    اگر قبل از تأیید اعتبار دریافت محصولات، شماره سریال باید وارد شود، سپس در فرم رسید، روی نماد جزئیات نشان داده شده توسط چهار خط افقی واقع در سمت راست خط محصول کلیک کنید.
    این یک برگه عملیات تفصیلی را نشان می دهد، که در آن می توان شماره(های) سریال و مقدار انجام شده را اضافه کرد. پس از آماده شدن، روی **تأیید** کلیک کنید تا داده ها تأیید شوند.


سپس، برای تأیید اعتبار سفارش خرید، روی **تأیید اعتبار** کلیک کنید.
در مرحله بعد، از طریق پیوندهای در بالای صفحه، به سفارش خرید بازگردید و روی ایجاد صورتحساب کلیک کنید تا یک صورتحساب فروشنده ایجاد شود که می تواند در سفارش فروش پیوست شده برای مشتری صورتحساب شود.


.. image:: ./img/invoicing /e78.jpg
    :align: center
    :alt: فروش


.. image:: ./img/invoicing /e79.jpg
    :align: center
    :alt: فروش


.. note::
    قبل از تأیید، مطمئن شوید که یک تاریخ صورتحساب را در پیش نویس قبض فروشنده وارد کنید. اگر تاریخ صورتحساب وارد نشده باشد، یک پنجره خطا ظاهر می شود که درخواست می کند اطلاعات قبل از تأیید وارد شود.


.. image:: ./img/invoicing /e80.jpg
    :align: center
    :alt: فروش


.. image:: ./img/invoicing /e81.jpg
    :align: center
    :alt: فروش


سپس، برای تأیید صورت‌حساب فروشنده، روی **تأیید** کلیک کنید، که سپس به‌طور خودکار به **سفارش فروش** اضافه می‌شود، جایی که می‌توان آن را مستقیماً برای مشتری متصل به آن صورت‌حساب کرد

.. image:: ./img/invoicing /e82.jpg
    :align: center
    :alt: فروش


برای فاکتور خرید مشتری، کافی است روی **ایجاد فاکتور** کلیک کنید، از پنجره بازشوی ایجاد فاکتورها، فاکتور عادی را انتخاب کنید، سپس روی **Create Draft Invoice** کلیک کنید.

.. image:: ./img/invoicing /e83.jpg
    :align: center
    :alt: فروش


با انجام این کار، یک پیش نویس فاکتور مشتری با محصول سفارش خرید که به تازگی در برگه خطوط فاکتور اضافه شده است، نشان داده می شود.

.. image:: ./img/invoicing /e84.jpg
    :align: center
    :alt: فروش

برای تکمیل فرآیند صورتحساب، برای تایید فاکتور روی **تایید** کلیک کنید و سپس در فرم پاپ آپ ثبت پرداخت، روی **ثبت پرداخت** کلیک کنید.